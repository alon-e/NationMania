<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Sun Jun 21 12:18:27 IDT 2015 -->
<title>Nations</title>
<meta name="date" content="2015-06-21">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Nations";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Nations.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../NationMania/core/Game.html" title="class in NationMania.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../NationMania/core/Player.html" title="class in NationMania.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?NationMania/core/Nations.html" target="_top">Frames</a></li>
<li><a href="Nations.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">NationMania.core</div>
<h2 title="Class Nations" class="title">Class Nations</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>NationMania.core.Nations</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">Nations</span>
extends java.lang.Object</pre>
<div class="block">Static class holds list of all the states in the DB, and the functions related to their randomization algorithm.<br>
 The nations list will be filled only on startup, unless a DB update will be preformed.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.ArrayList&lt;<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#allStates">allStates</a></span></code>
<div class="block">list of all the states exist in the DB, orderd from the hardest state to the easiest.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#myLand">myLand</a></span></code>
<div class="block">the current played nation</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#totalProbability">totalProbability</a></span></code>
<div class="block">sum of all the state's probabilities.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.NavigableMap&lt;java.lang.Double,<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#weightsMap">weightsMap</a></span></code>
<div class="block">map of &lsaquo;probabilty,state&rsaquo; used to implement fast randomization of a state from the list.<br>
 each state set with the value of the sum of all probabilities of all the states that are before it in the list.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#Nations--">Nations</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static java.util.ArrayList&lt;<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#getAllStates--">getAllStates</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#getMyLand--">getMyLand</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#randFirstState--">randFirstState</a></span>()</code>
<div class="block">Called once every game in the first round, since this is the only time the next nation is not already set.<br>
 Randomizes a nation from the list, and get it's facts list from the DB.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#randNation--">randNation</a></span>()</code>
<div class="block">Called at the start of every round.<br>
 In the first round, it randomizes once for the current round, and again on a different thread for the next round<br>
 In every other round, it sets the nation that was randomized in the previous round as the current nation, and randomizes<br>
 again for the next round.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.lang.Runnable</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#randNextState--">randNextState</a></span>()</code>
<div class="block">This function is identical to "randFirstState", except for the fact it saves the nation the was randomized in the<br>
 "game next fact" parameter.<br>
 This function is preformed by a different thread, to not disturb the flow of the game.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private static <a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#randomizeState--">randomizeState</a></span>()</code>
<div class="block">Function for randomizing state from the states list.<br>
 The function randomizing a number between 1 to the sum of all state's probabilities, and returns the nation with the closest<br>
 value to the randomized number, from all values that are larger then it.<br>
 The function randomizing states, until it gets a state that was not played in this game already.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#setAllStates--">setAllStates</a></span>()</code>
<div class="block">Called on application startup.<br>
  Loads all the states from the DB into allStates list.<br></div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#setMyLand-NationMania.core.State-">setMyLand</a></span>(<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&nbsp;randomizedLand)</code>
<div class="block">Updates the current round nation and logs this nation in the game and player history</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static java.lang.Runnable</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/core/Nations.html#updateStatesWeight--">updateStatesWeight</a></span>()</code>
<div class="block">This function is called on 3 situations:<br>
 1.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="allStates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allStates</h4>
<pre>private static&nbsp;java.util.ArrayList&lt;<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&gt; allStates</pre>
<div class="block">list of all the states exist in the DB, orderd from the hardest state to the easiest.
 State difficulty is set according to the number of facts it's related to in the DB.</div>
</li>
</ul>
<a name="myLand">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>myLand</h4>
<pre>private static&nbsp;<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a> myLand</pre>
<div class="block">the current played nation</div>
</li>
</ul>
<a name="totalProbability">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>totalProbability</h4>
<pre>private static&nbsp;double totalProbability</pre>
<div class="block">sum of all the state's probabilities. uses to random state from the list</div>
</li>
</ul>
<a name="weightsMap">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>weightsMap</h4>
<pre>private static&nbsp;java.util.NavigableMap&lt;java.lang.Double,<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&gt; weightsMap</pre>
<div class="block">map of &lsaquo;probabilty,state&rsaquo; used to implement fast randomization of a state from the list.<br>
 each state set with the value of the sum of all probabilities of all the states that are before it in the list. <br></div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Nations--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Nations</h4>
<pre>public&nbsp;Nations()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAllStates--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllStates</h4>
<pre>public static&nbsp;java.util.ArrayList&lt;<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&gt;&nbsp;getAllStates()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list containing all states</dd>
</dl>
</li>
</ul>
<a name="setAllStates--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllStates</h4>
<pre>public static&nbsp;void&nbsp;setAllStates()
                         throws java.sql.SQLException</pre>
<div class="block">Called on application startup.<br>
  Loads all the states from the DB into allStates list.<br></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - If Connection to DB failed, or accessing the nations table in the DB failed</dd>
</dl>
</li>
</ul>
<a name="getMyLand--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMyLand</h4>
<pre>public static&nbsp;<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&nbsp;getMyLand()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current played nation</dd>
</dl>
</li>
</ul>
<a name="setMyLand-NationMania.core.State-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMyLand</h4>
<pre>private static&nbsp;void&nbsp;setMyLand(<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&nbsp;randomizedLand)</pre>
<div class="block">Updates the current round nation and logs this nation in the game and player history</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>randomizedLand</code> - the nation that was already randomized and set in the last round, except for the first round</dd>
</dl>
</li>
</ul>
<a name="randNation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>randNation</h4>
<pre>public static&nbsp;void&nbsp;randNation()</pre>
<div class="block">Called at the start of every round.<br>
 In the first round, it randomizes once for the current round, and again on a different thread for the next round<br>
 In every other round, it sets the nation that was randomized in the previous round as the current nation, and randomizes<br>
 again for the next round.</div>
</li>
</ul>
<a name="randFirstState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>randFirstState</h4>
<pre>public static&nbsp;void&nbsp;randFirstState()</pre>
<div class="block">Called once every game in the first round, since this is the only time the next nation is not already set.<br>
 Randomizes a nation from the list, and get it's facts list from the DB.</div>
</li>
</ul>
<a name="randNextState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>randNextState</h4>
<pre>public static&nbsp;java.lang.Runnable&nbsp;randNextState()</pre>
<div class="block">This function is identical to "randFirstState", except for the fact it saves the nation the was randomized in the<br>
 "game next fact" parameter.<br>
 This function is preformed by a different thread, to not disturb the flow of the game.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Runnuble - use to start new thread via the Executer.</dd>
</dl>
</li>
</ul>
<a name="randomizeState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>randomizeState</h4>
<pre>private static&nbsp;<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&nbsp;randomizeState()</pre>
<div class="block">Function for randomizing state from the states list.<br>
 The function randomizing a number between 1 to the sum of all state's probabilities, and returns the nation with the closest<br>
 value to the randomized number, from all values that are larger then it.<br>
 The function randomizing states, until it gets a state that was not played in this game already.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the randomized state</dd>
</dl>
</li>
</ul>
<a name="updateStatesWeight--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateStatesWeight</h4>
<pre>public static&nbsp;java.lang.Runnable&nbsp;updateStatesWeight()</pre>
<div class="block">This function is called on 3 situations:<br>
 1. when user is logging in<br>
 2. when all the nations already played in this game (very unlikely to happend)<br>
 3. when the user start a new game with a different difficulty from the last game played<br>
 <br>
 The function computes the dynamic probability of every nation to be randomized during the game, based on it's weight<br>
 and the game difficulty.<br>
 For every difficulty, the function chooses a different range of states (easy,medium,hard) and multiply their weight,<br>
 in order to increase their probability to be chosen.<br>
 The function is done be a new thread.<br></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Runnable - use to start new thread via the Executer.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Nations.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../NationMania/core/Game.html" title="class in NationMania.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../NationMania/core/Player.html" title="class in NationMania.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?NationMania/core/Nations.html" target="_top">Frames</a></li>
<li><a href="Nations.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
