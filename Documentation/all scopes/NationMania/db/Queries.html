<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Sun Jun 21 12:18:28 IDT 2015 -->
<title>Queries</title>
<meta name="date" content="2015-06-21">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Queries";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9,"i12":9,"i13":9,"i14":9,"i15":9,"i16":9,"i17":9,"i18":9,"i19":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Queries.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../NationMania/db/DBConnectionPool.html" title="class in NationMania.db"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../NationMania/db/YagoSQL.html" title="class in NationMania.db"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?NationMania/db/Queries.html" target="_top">Frames</a></li>
<li><a href="Queries.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">NationMania.db</div>
<h2 title="Class Queries" class="title">Class Queries</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>NationMania.db.Queries</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">Queries</span>
extends java.lang.Object</pre>
<div class="block">DB Queries Class - holds all the Queries related to java core implementation.
 Performs updates,inserts and selects on DB, and connect data with java Data Structures
 Gets connections for Connection Pool</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.sql.Connection</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#conn">conn</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#CONNECTION_FAILED_MESSAGE">CONNECTION_FAILED_MESSAGE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../NationMania/db/DBConnectionPool.html" title="class in NationMania.db">DBConnectionPool</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#Connections">Connections</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#HISTORY_TIME">HISTORY_TIME</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#PASSWORD">PASSWORD</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#QUERY_FAILED_MESSAGE">QUERY_FAILED_MESSAGE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#TOP_SCORE_TABLE_SIZE">TOP_SCORE_TABLE_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#URL">URL</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#USER">USER</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#Queries--">Queries</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#addUser-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">addUser</a></span>(java.lang.String&nbsp;username,
       java.lang.String&nbsp;password,
       java.lang.String&nbsp;email,
       java.lang.String&nbsp;homeNation)</code>
<div class="block">Sign new user</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#closeAllConnections--">closeAllConnections</a></span>()</code>
<div class="block">ShutDown Connection pool<br>
 Close all connections</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#editUser-java.lang.String-java.lang.String-java.lang.String-">editUser</a></span>(java.lang.String&nbsp;password,
        java.lang.String&nbsp;email,
        java.lang.String&nbsp;homeNation)</code>
<div class="block">Edit user account - can change password,email,home nation</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#findUser-java.lang.String-java.lang.String-">findUser</a></span>(java.lang.String&nbsp;username,
        java.lang.String&nbsp;password)</code>
<div class="block">Called in Sign In
 Sign In - return true if username was found and password was a match
 username is NOT CASE SENSITIVE!</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#getConnection--">getConnection</a></span>()</code>
<div class="block">test if there is connection to DB at the start of every query.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#getCountries--">getCountries</a></span>()</code>
<div class="block">this function will be called once at the beginning.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#getIDfromName-java.lang.String-">getIDfromName</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Match State ID to input State name</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#getStateFacts-NationMania.core.State-">getStateFacts</a></span>(<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&nbsp;nation)</code>
<div class="block">get from DB all categories for the chosen state</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#getTopScores--">getTopScores</a></span>()</code>
<div class="block">Called when user press the "highscore" button
 Gets the top distincts tuples of (user,score) from the DB and prints it to the High Score screen
 The size of the top score table is set by the TOP_SCORE_TABLE_SIZE Configuration value</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#isUserExist-java.lang.String-">isUserExist</a></span>(java.lang.String&nbsp;username)</code>
<div class="block">Called in Sign Up.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#loadPlayerHistory-int-">loadPlayerHistory</a></span>(int&nbsp;playerID)</code>
<div class="block">load player games history</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#logGame--">logGame</a></span>()</code>
<div class="block">Called in the start of every new game.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#logGameStats-int-">logGameStats</a></span>(int&nbsp;GameID)</code>
<div class="block">Called at the end of a game, or after pressing "quit" on game screen.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#logState-int-">logState</a></span>(int&nbsp;stateID)</code>
<div class="block">Called after the end of every round.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#logUser-java.lang.String-">logUser</a></span>(java.lang.String&nbsp;username)</code>
<div class="block">log user from DB as the current player</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#MD5-java.lang.String-">MD5</a></span>(java.lang.String&nbsp;md5)</code>
<div class="block">Hash function for users passwords</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#safelySetAutoCommit--">safelySetAutoCommit</a></span>()</code>
<div class="block">Attempts to set the connection back to auto-commit, ignoring errors.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#updateFactsReported-int-">updateFactsReported</a></span>(int&nbsp;factID)</code>
<div class="block">Called immediatly after the player report on a fact during the game.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#updateTopScore--">updateTopScore</a></span>()</code>
<div class="block">Called if the player sets a new best score.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../NationMania/db/Queries.html#updateUserLogin-java.lang.String-">updateUserLogin</a></span>(java.lang.String&nbsp;username)</code>
<div class="block">Calls in the end of login - update user login timestamp to now</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="URL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>URL</h4>
<pre>public static&nbsp;java.lang.String URL</pre>
</li>
</ul>
<a name="USER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>USER</h4>
<pre>public static&nbsp;java.lang.String USER</pre>
</li>
</ul>
<a name="PASSWORD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PASSWORD</h4>
<pre>public static&nbsp;java.lang.String PASSWORD</pre>
</li>
</ul>
<a name="HISTORY_TIME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HISTORY_TIME</h4>
<pre>public static&nbsp;java.lang.String HISTORY_TIME</pre>
</li>
</ul>
<a name="TOP_SCORE_TABLE_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TOP_SCORE_TABLE_SIZE</h4>
<pre>public static&nbsp;int TOP_SCORE_TABLE_SIZE</pre>
</li>
</ul>
<a name="CONNECTION_FAILED_MESSAGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_FAILED_MESSAGE</h4>
<pre>public static&nbsp;java.lang.String CONNECTION_FAILED_MESSAGE</pre>
</li>
</ul>
<a name="QUERY_FAILED_MESSAGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>QUERY_FAILED_MESSAGE</h4>
<pre>public static&nbsp;java.lang.String QUERY_FAILED_MESSAGE</pre>
</li>
</ul>
<a name="Connections">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Connections</h4>
<pre>public static&nbsp;<a href="../../NationMania/db/DBConnectionPool.html" title="class in NationMania.db">DBConnectionPool</a> Connections</pre>
</li>
</ul>
<a name="conn">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>conn</h4>
<pre>public static&nbsp;java.sql.Connection conn</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Queries--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Queries</h4>
<pre>public&nbsp;Queries()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getCountries--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCountries</h4>
<pre>public static&nbsp;void&nbsp;getCountries()
                         throws java.sql.SQLException</pre>
<div class="block">this function will be called once at the beginning. upload all countries from DB to class</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Signals that the SQL query or connection failed, A message follows.</dd>
</dl>
</li>
</ul>
<a name="logUser-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logUser</h4>
<pre>public static&nbsp;void&nbsp;logUser(java.lang.String&nbsp;username)
                    throws java.sql.SQLException</pre>
<div class="block">log user from DB as the current player</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - user name</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Signals that the SQL query or connection failed, A message follows.</dd>
</dl>
</li>
</ul>
<a name="logGameStats-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logGameStats</h4>
<pre>public static&nbsp;void&nbsp;logGameStats(int&nbsp;GameID)</pre>
<div class="block">Called at the end of a game, or after pressing "quit" on game screen.
 logs the final statistics of the game - total score and number of nations discovered</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>GameID</code> - Game ID</dd>
</dl>
</li>
</ul>
<a name="logGame--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logGame</h4>
<pre>public static&nbsp;void&nbsp;logGame()</pre>
<div class="block">Called in the start of every new game. Creates a new entry in the DB about the game, and setting it with id.</div>
</li>
</ul>
<a name="logState-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logState</h4>
<pre>public static&nbsp;void&nbsp;logState(int&nbsp;stateID)</pre>
<div class="block">Called after the end of every round.
 Log the nation and it's facts that appeared in this round of the game</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stateID</code> - State ID</dd>
</dl>
</li>
</ul>
<a name="updateFactsReported-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFactsReported</h4>
<pre>public static&nbsp;void&nbsp;updateFactsReported(int&nbsp;factID)</pre>
<div class="block">Called immediatly after the player report on a fact during the game.
 Increases by 1 the number of reports on the fact in DB.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>factID</code> - the ID of the reported fact</dd>
</dl>
</li>
</ul>
<a name="updateTopScore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTopScore</h4>
<pre>public static&nbsp;void&nbsp;updateTopScore()</pre>
<div class="block">Called if the player sets a new best score.
 Updates his best score in the DB.</div>
</li>
</ul>
<a name="getStateFacts-NationMania.core.State-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStateFacts</h4>
<pre>public static&nbsp;void&nbsp;getStateFacts(<a href="../../NationMania/core/State.html" title="class in NationMania.core">State</a>&nbsp;nation)
                          throws java.sql.SQLException</pre>
<div class="block">get from DB all categories for the chosen state</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nation</code> - nation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Signals that the SQL query or connection failed, A message follows.</dd>
</dl>
</li>
</ul>
<a name="addUser-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addUser</h4>
<pre>public static&nbsp;void&nbsp;addUser(java.lang.String&nbsp;username,
                           java.lang.String&nbsp;password,
                           java.lang.String&nbsp;email,
                           java.lang.String&nbsp;homeNation)
                    throws java.sql.SQLException</pre>
<div class="block">Sign new user</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - user name</dd>
<dd><code>password</code> - user password</dd>
<dd><code>email</code> - email</dd>
<dd><code>homeNation</code> - player's home nation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Signals that the SQL query or connection failed, A message follows.</dd>
</dl>
</li>
</ul>
<a name="editUser-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>editUser</h4>
<pre>public static&nbsp;void&nbsp;editUser(java.lang.String&nbsp;password,
                            java.lang.String&nbsp;email,
                            java.lang.String&nbsp;homeNation)
                     throws java.sql.SQLException</pre>
<div class="block">Edit user account - can change password,email,home nation</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>password</code> - user password</dd>
<dd><code>email</code> - email</dd>
<dd><code>homeNation</code> - player's home nation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Signals that the SQL query or connection failed, A message follows.</dd>
</dl>
</li>
</ul>
<a name="getIDfromName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIDfromName</h4>
<pre>private static&nbsp;int&nbsp;getIDfromName(java.lang.String&nbsp;name)</pre>
<div class="block">Match State ID to input State name</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - Name of nation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>nation's ID</dd>
</dl>
</li>
</ul>
<a name="findUser-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findUser</h4>
<pre>public static&nbsp;boolean&nbsp;findUser(java.lang.String&nbsp;username,
                               java.lang.String&nbsp;password)
                        throws java.sql.SQLException</pre>
<div class="block">Called in Sign In
 Sign In - return true if username was found and password was a match
 username is NOT CASE SENSITIVE!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - user name</dd>
<dd><code>password</code> - user password</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if user found
                   <code>false</code> else</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Signals that the SQL query or connection failed, A message follows.</dd>
</dl>
</li>
</ul>
<a name="isUserExist-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUserExist</h4>
<pre>public static&nbsp;boolean&nbsp;isUserExist(java.lang.String&nbsp;username)
                           throws java.sql.SQLException</pre>
<div class="block">Called in Sign Up.
 return true if username not found in DB. NOT CASE SENSITIVE!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - user name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if user exists
                   <code>false</code> else</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Signals that the SQL query or connection failed, A message follows.</dd>
</dl>
</li>
</ul>
<a name="updateUserLogin-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateUserLogin</h4>
<pre>private static&nbsp;void&nbsp;updateUserLogin(java.lang.String&nbsp;username)
                             throws java.sql.SQLException</pre>
<div class="block">Calls in the end of login - update user login timestamp to now</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - user name</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Signals that the SQL query or connection failed, A message follows.</dd>
</dl>
</li>
</ul>
<a name="loadPlayerHistory-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadPlayerHistory</h4>
<pre>private static&nbsp;void&nbsp;loadPlayerHistory(int&nbsp;playerID)
                               throws java.sql.SQLException</pre>
<div class="block">load player games history</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>playerID</code> - Player's unique ID</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Signals that the SQL query or connection failed, A message follows.</dd>
</dl>
</li>
</ul>
<a name="getTopScores--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTopScores</h4>
<pre>public static&nbsp;void&nbsp;getTopScores()
                         throws java.sql.SQLException</pre>
<div class="block">Called when user press the "highscore" button
 Gets the top distincts tuples of (user,score) from the DB and prints it to the High Score screen
 The size of the top score table is set by the TOP_SCORE_TABLE_SIZE Configuration value</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Signals that the SQL query or connection failed, A message follows.</dd>
</dl>
</li>
</ul>
<a name="getConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnection</h4>
<pre>public static&nbsp;void&nbsp;getConnection()
                          throws java.sql.SQLException</pre>
<div class="block">test if there is connection to DB at the start of every query.
 If recieved no callback from server - throw exception</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - Signals that the SQL query or connection failed, A message follows.</dd>
</dl>
</li>
</ul>
<a name="closeAllConnections--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAllConnections</h4>
<pre>public static&nbsp;void&nbsp;closeAllConnections()</pre>
<div class="block">ShutDown Connection pool<br>
 Close all connections</div>
</li>
</ul>
<a name="safelySetAutoCommit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>safelySetAutoCommit</h4>
<pre>private static&nbsp;void&nbsp;safelySetAutoCommit()</pre>
<div class="block">Attempts to set the connection back to auto-commit, ignoring errors.</div>
</li>
</ul>
<a name="MD5-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MD5</h4>
<pre>private static&nbsp;java.lang.String&nbsp;MD5(java.lang.String&nbsp;md5)</pre>
<div class="block">Hash function for users passwords</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>md5</code> - raw string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>md5 digest of string</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Queries.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../NationMania/db/DBConnectionPool.html" title="class in NationMania.db"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../NationMania/db/YagoSQL.html" title="class in NationMania.db"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?NationMania/db/Queries.html" target="_top">Frames</a></li>
<li><a href="Queries.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
